<!-- Electoral Issues - Audit and Confidence in Results -->

<style>
      
        svg {
            display: block;
            float: left;
            height: 66%;
            min-width: 500px;
        } 

/*
  Minimum height and width is a good idea to prevent negative SVG dimensions...
  For example width should be =< margin.left + margin.right + 1,
  of course 1 pixel for the entire chart would not be very useful, BUT should not have errors
*/


</style>

    <div id="wrapper">
        <div id="page-wrapper">
            <div class="row">
                <div class="col-lg-12">
                    
                    <h1 class="page-header"><strong>AUDIT OF RUNOFF RESULTS &amp; PUBLIC CONFIDENCE IN 2014 PRESIDENTIAL ELECTION RESULTS</strong></h1>

                </div>
            </div>
                    
                     <svg id="chart1" class="with-3d-shadow with-transitions"></svg>
                     <svg id="chart2" class="with-3d-shadow with-transitions"></svg>
                    

                <div id="menu-wrapper">
                    <div id="menu-canvas">
                    <div id="site-menu"> 
                    
                        <h4>How much do you agree that the audit of runoff ballots helped build public confidence in the presidential election results?</h4>
                        <p>The Independent Election Commission conducted an audit of all the ballots cast in the presidential runoff election based on an agreement between the two candidates to resolve allegations of widespread electoral fraud. The audit was conducted over seven weeks and resulted in the formation of the National Unity Government. Two-in-three respondents believe the audit helped build public confidence in the result of the presidential election.</p>
                    </div> 
            
                    
                    <a class="toggle-nav btn btn-sm btn-primary" id="info"><i class="fa fa-info"></i></a>
                    <a class="toggle-nav"></a>    
                </div> 
               </div>     
            </div>
        </div> 


    <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>

    <script>
   
   var data1 = [
        {key: "Strongly Agree", y: 18.1},
        {key: "Somewhat Agree", y: 49.1},
        {key: "Somewhat Disagree", y: 15.6},
        {key: "Strongly Disagree", y: 12.2},
        {key: "Don't Know", y: 4.9}
    ];

   var data2 = [
    {
        "key": "Strongly Agree",
        "color": "#005288", //blue
        "values": [
            {   "label": "National Average",
                "value": 18.1
            },
            {
                "label": "Central",
                "value": 19.7
            },
            {
                "label": "Central Highlands",
                "value": 18.2
            }, 
            {
                "label": "East",
                "value": 31.3
            },
            {
                "label": "North",
                "value": 11.8
            },
            {
                "label": "North East",
                "value": 15.8
            },
            {
                "label": "South",
                "value": 13.7
            },
            {
                "label": "South East",
                "value": 16.9
            },
            {
                "label": "West",
                "value": 18.5
            }    
        ]
    },
    {
        "key": "Somewhat Agree",
        "color": "#7AA9DD", //light blue
        "values": [
            {   "label": "National Average",
                "value": 49.1
            },
            {
                "label": "Central",
                "value": 43.3
            },
            {
                "label": "Central Highlands",
                "value": 44.2
            },
            {
                "label": "East",
                "value": 50.3
            },
            {
                "label": "North",
                "value": 43.7
            },
            {
                "label": "North East",
                "value": 48.6
            },
            {
                "label": "South",
                "value": 55.8
            },
            {
                "label": "South East",
                "value": 60.4
            },
            {
                "label": "West",
                "value": 49.9
            }
        ]
    },
    {
        "key": "Somewhat Disagree",
        "color": "#BC8F8F", //light red
        "values": [
            {   "label": "National Average",
                "value": 15.6
            },
            {
                "label": "Central",
                "value": 15.0
            },
            {
                "label": "Central Highlands",
                "value": 22.8
            },
            {
                "label": "East",
                "value": 8.1
            },
            {
                "label": "North",
                "value": 19.6
            },
            {
                "label": "North East",
                "value": 11.2
            },
            {
                "label": "South",
                "value": 25.3
            },
            {
                "label": "South East",
                "value": 15.6
            },   
            {
                "label": "West",
                "value": 13.5
            }
        ]
    },
    {
        "key": "Strongly Disagree",
        "color": "#800000", //red
        "values": [
            {   "label": "National Average",
                "value": 12.2
            },
            {
                "label": "Central",
                "value": 15.9
            },
            {
                "label": "Central Highlands",
                "value": 6.8
            },
            {
                "label": "East",
                "value": 8.8 
            },
            {
                "label": "North",
                "value": 13.0
            },
            {
                "label": "North East",
                "value": 16.8
            },
            {
                "label": "South",
                "value": 4.1
            },
            {
                "label": "South East",
                "value": 5.0
            },
            {
                "label": "West",
                "value": 16.3
            }
        ]
    }
]
    
nv.addGraph(function() {
        var chart = nv.models.pieChart()
            .x(function(d) { return d.key })
            .y(function(d) { return d.y })
            .color(["#005288", "#7AA9DD", "#BC8F8F", "#800000", "gray"]) 
            .labelType("value")
            //.tooltips(false)
            .tooltipContent(function(key, y, e, graph) {
                return '<h5 style="padding: 5px; text-align: center">' + key + '</h5>'
                        + '<p style="padding: 5px;">' +  y + '%</p>';
            })
            //.width(width)
            //.height(height);
        d3.select("#chart1")
            .datum(data1)
            .transition().duration(1200)
            .call(chart);
        return chart;
    });

nv.addGraph(function() {
  var chart = nv.models.multiBarHorizontalChart()
      .x(function(d) { return d.label })
      .y(function(d) { return d.value / 100 })
      .margin({left: 100})
      /*.tooltipContent(function(key, x, y, e, graph) {
        return '<h5 style="text-align:center; padding:0px; color:#000; font-weight: 700">' + key + " (" + x + ")</h5><h4 style='text-align: center; color: #000; font-weight: 700;'>" + y + '</h5>'
    });*/

      
        //.showValues(false)
        .tooltips(true)
        //.barColor(d3.scale.category20().range())
        //.stacked(true)
        //.showControls(false);

  chart.yAxis 
    .tickFormat(d3.format('.1%'));
  //chart.xAxis
    //.tickFormat(d3.format('d'));

  d3.select('#chart2')
      .datum(data2)
      .transition().duration(1200)
      .call(chart);

  nv.utils.windowResize(chart.update);

  chart.dispatch.on('stateChange', function(e) { nv.log('New State:', JSON.stringify(e)); });

  return chart;
});

</script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-60568590-1', 'auto');
  ga('send', 'pageview');

</script>