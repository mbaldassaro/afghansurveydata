<!-- Electoral Issues - Important Reforms to Improve Future Elections -->

<style>
      
        svg {
            display: block;
            float: left;
            height: 66%;
            min-width: 100%;
        } 

/*
  Minimum height and width is a good idea to prevent negative SVG dimensions...
  For example width should be =< margin.left + margin.right + 1,
  of course 1 pixel for the entire chart would not be very useful, BUT should not have errors
*/


</style>

    <div id="wrapper">
        <div id="page-wrapper">
            <div class="row">
                <div class="col-lg-12">
                    
                    <h1 class="page-header"><strong>VOTED IN 2014 ELECTIONS &amp; RUNOFF</strong></h1>

                </div>
            </div>
                    
                     <svg id="chart1" class="with-3d-shadow with-transitions"></svg>
                    

                <div id="menu-wrapper">
                    <div id="menu-canvas">
                    <div id="site-menu"> 
                    
                        <h4>Did you vote in the April 2014 presidential and provincial elections? Did you vote in the June 2014 runoff election?</h4>
                        <p>The vast majority of Afghan citizens in every region of the country reported having voted in the 2014 elections. Slightly smaller majorities reported having voted in the presidential runoff election, except for in the north east. Respondents in the south were the least likely to report they voted in either round of elections.</p>
                    </div> 
            
                    
                    <a class="toggle-nav btn btn-sm btn-primary" id="info"><i class="fa fa-info"></i></a>
                    <a class="toggle-nav"></a>    
                </div> 
               </div>     
            </div>
        </div> 


    <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>

    <script>
   
   var data = [
    {
        "key": "Voted in April 2014 Elections",
        "color": "#005288", //blue
        "values": [
            {   "label": "National Average", "value": 78.7 },
            {   "label": "Central", "value": 72.6 },
            {   "label": "Central Highlands", "value": 95.2 },
            {   "label": "East", "value": 82.1 },
            {   "label": "North", "value": 89.3 },
            {   "label": "North East", "value": 74.8 },
            {   "label": "South", "value": 56.5 },
            {   "label": "South East", "value": 94.0 },
            {   "label": "West", "value": 83.4 }
        ]
    },
    {
        "key": "Did Not Vote in April 2014 Elections",
        "color": "#800000", //red
        "values": [
            {   "label": "National Average", "value": 21.2 },
            {   "label": "Central", "value": 27.3 },
            {   "label": "Central Highlands", "value": 4.8 },
            {   "label": "East", "value": 17.9 },
            {   "label": "North", "value": 10.7 },
            {   "label": "North East", "value": 24.9 },
            {   "label": "South", "value": 43.5 },
            {   "label": "South East", "value": 6.0 },
            {   "label": "West", "value": 16.6 }
        ]
    },
    {
        "key": "Voted in June 2014 Runoff",
        "color": "#7aa9dd", //light blue
        "values": [
            {   "label": "National Average", "value": 76.2 },
            {   "label": "Central", "value": 70.0 },
            {   "label": "Central Highlands", "value": 92.3 },
            {   "label": "East", "value": 81.4 },
            {   "label": "North", "value": 83.0 },
            {   "label": "North East", "value": 79.1 },
            {   "label": "South", "value": 54.5 },
            {   "label": "South East", "value": 87.2 },
            {   "label": "West", "value": 79.6 }
        ]
    },
    {
        "key": "Did Not Vote in June 2014 Runoff",
        "color": "#bc8f8f", //light red
        "values": [
            {   "label": "National Average", "value": 23.7 },
            {   "label": "Central", "value": 30.0 },
            {   "label": "Central Highlands", "value": 7.7 },
            {   "label": "East", "value": 18.6 },
            {   "label": "North", "value": 17.0 },
            {   "label": "North East", "value": 20.5 },
            {   "label": "South", "value": 45.5 },
            {   "label": "South East", "value": 12.8 },
            {   "label": "West", "value": 20.4 }
        ]
    }
]
    
nv.addGraph(function() {
  var chart = nv.models.multiBarChart()
      .x(function(d) { return d.label })
      .y(function(d) { return d.value / 100 })
      //.margin({left: 100})
      /*.tooltipContent(function(key, x, y, e, graph) {
        return '<h5 style="text-align:center; padding:0px; color:#000; font-weight: 700">' + key + " (" + x + ")</h5><h4 style='text-align: center; color: #000; font-weight: 700;'>" + y + '</h5>'
    });*/

      
        //.showValues(false)
        .tooltips(true)
        //.barColor(d3.scale.category20().range())
        //.stacked(true)
        //.showControls(false);

  chart.yAxis 
    .tickFormat(d3.format('.1%'));
  //chart.xAxis
    //.tickFormat(d3.format('d'));

  d3.select('#chart1')
      .datum(data)
      .transition().duration(1200)
      .call(chart);

  nv.utils.windowResize(chart.update);

  chart.dispatch.on('stateChange', function(e) { nv.log('New State:', JSON.stringify(e)); });

  return chart;
});

</script>