
<!--General Issues - Direction of the Country -->
<style>

svg {
            display: block;
            float: left;
            min-height: 500px;
            min-width: 100%;
        } 


</style>

<div id="wrapper">
        <div id="page-wrapper">
            <div class="row">
                <div class="col-lg-12">
                    
                    <h1 class="page-header"><strong>DIRECTION OF THE COUNTRY</strong></h1>

                </div>
            </div>
                    
                     <svg id="chart1" class="with-3d-shadow with-transitions"></svg>
   

                <div id="menu-wrapper">
                    <div id="menu-canvas">
                    <div id="site-menu"> 
                    
                        <!--<h4>Bold Heading Topic</h4>-->
                        <p>We asked survey respondents "Generally speaking, do you think today Afghanistan is going in the right direction or in the wrong direction?" Overall, approximately four-in-five respondents felt the country was heading, or somewhat heading, in the right direction. Roughly half of respondents believed that the Afghanistan was going in the right direction and one-third thought that the country was somewhat on the right track. There has been a marked increase in citizen optimism about the country's direction from two years ago, when less than 50% of the respondents believed Afghanistan was heading, or somewhat heading, the right direction. In 2012, only one-third of respondents believed the country was headed in the right direction and just 15% believed it was somewhat on the right track.</p>
                    </div> 
            
                    
                    <a class="toggle-nav btn btn-sm btn-primary" id="info"><i class="fa fa-info"></i></a>
                    <a class="toggle-nav"></a>    
                </div> 
               </div>     
            </div>
        </div> 


    <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>

<script>


var data = [
    {
        "key": "Wrong Direction",
        "color": "#800000", //red
        "values": [
            [
                1351728000000,
                32.0
            ],
            [
                1385856000000,
                20.6
            ],
            [
            	1412800000000,
            	12.4
            ]
        ]
    },
    {
        "key": "Some Right / Some Wrong",
        "color": "#8B4789", //purple
        "values": [
            [
                1351728000000,
                15.7
            ],
            [
                1385856000000,
                33.8
            ],
            [
                1412800000000,
                33.5
            ]
        ]
    },
    {
        "key": "Right Direction",
        "color": "#005288", //blue
        "values": [
            [
                1351728000000,
                32.8
            ],
            [
                1385856000000,
                33.1
            ],
            [
            	1412800000000,
            	48.1
            ]
        ]
    },
    {
        "key": "Don't Know",
        "color": "gray", //gray
        "values": [
            [
                1351728000000,
                13.0
            ],
            [
                1385856000000,
                12.1
            ],
            [
            	1412800000000,
            	5.8
            ]
        ]
    }
]

	var width = 950; 

  nv.addGraph(function() {
    var chart = nv.models.lineChart()
                  .x(function(d) { return d[0] })
                  .y(function(d) { return d[1]/100 }) //adjusting, 100% is 1.00, not 100 as it is in the data
                  //.color(d3.scale.category10().range())
                  
                  .duration(1200)
                  //.width(width)
                  .useInteractiveGuideline(true);
             

     chart.xAxis
        .margin({bottom: 50})
        .tickValues([1351728000000,1385856000000,1412800000000])
        .tickFormat(function(d) {
            return d3.time.format('%m/%Y')(new Date(d))
          });

    chart.yAxis
        .tickFormat(d3.format('.1%'));

    d3.select('#chart1')
        .datum(data)
        .transition().duration(1200)
        .call(chart);

    nv.utils.windowResize(chart.update);

    return chart;
  });


</script>