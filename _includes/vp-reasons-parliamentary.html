<!-- Voter Participation - Reasons to Vote for a Parliamentary Candidate -->

<style>
      
        svg {
            display: block;
            float: left;
            height: 66%;
            min-width: 100%;
        } 

/*
  Minimum height and width is a good idea to prevent negative SVG dimensions...
  For example width should be =< margin.left + margin.right + 1,
  of course 1 pixel for the entire chart would not be very useful, BUT should not have errors
*/


</style>

    <div id="wrapper">
        <div id="page-wrapper">
            <div class="row">
                <div class="col-lg-12">
                    
                    <h1 class="page-header"><strong>REASONS TO VOTE FOR PARLIAMENTARY CANDIDATE</strong></h1>

                </div>
            </div>
                    
                     <svg id="chart1" class="with-3d-shadow with-transitions"></svg>
                    

                <div id="menu-wrapper">
                    <div id="menu-canvas">
                    <div id="site-menu"> 
                    
                        <h4>Why do you think people will support particular parliamentary candidates in 2015?</h4>
                        <p>Nationwide, four-in-nine respondents said people will support candidates based on their perceived influence in securing resources for the community. Majorities or pluralities in every region of the country think people will vote for candidates because of this reason except for in the north, where people are more likely to think that Afghans vote for candidates based on their ethnicity.</p>
                    </div> 
            
                    
                    <a class="toggle-nav btn btn-sm btn-primary" id="info"><i class="fa fa-info"></i></a>
                    <a class="toggle-nav"></a>    
                </div> 
               </div>     
            </div>
        </div> 


    <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>

    <script>
   

    var data = [   
    {
        "key": "Can Secure Resources for Community",
        "color": "#005288", //blue
        "values": [
            { "label": "Central", "value": 52.3 },
            { "label": "Central Highlands", "value": 49.2 },
            { "label": "East", "value": 54.9 },
            { "label": "North", "value": 32.1 },
            { "label": "North East", "value": 45.1 },
            { "label": "South", "value": 47.5 },
            { "label": "South East", "value": 47.2 },
            { "label": "West","value": 36.9 }            
        ]
    },
    {
        "key": "Ethnicity",
        "color": "#800000", //red
        "values": [
            { "label": "Central", "value": 14.9 },
            { "label": "Central Highlands", "value": 24.2 },
            { "label": "East", "value": 16.4 },
            { "label": "North", "value": 32.9 },
            { "label": "North East", "value": 22.5 },
            { "label": "South", "value": 23.5 },
            { "label": "South East", "value": 23.4 },
            { "label": "West","value": 30.3 }            
        ]
    },
    {
        "key": "Reputation",
        "color": "#bc8f8f", //light red
        "values": [           
            { "label": "Central", "value": 27.6 },  
            { "label": "Central Highlands", "value": 22.0 },
            { "label": "East", "value": 25.7 },
            { "label": "North", "value": 25.9 },
            { "label": "North East", "value": 25.3 },
            { "label": "South", "value": 27.0 },
            { "label": "South East", "value": 27.9 },
            { "label": "West", "value": 29.7 }
        ] 
    }
]


var chart;
    nv.addGraph(function() {
        chart = nv.models.multiBarChart()
            .x(function(d) { return d.label })
            .y(function(d) { return d.value / 100 })
            //.barColor(d3.scale.category10().range())
            .duration(1200)
            .tooltipContent(function(key, x, y, e, graph) {
        return '<h3>' + key + '</h3><p>' + y + '</p>'
    });
            //.growOnHover(true)
            //.stacked(true);
            
        chart.yAxis.tickFormat(d3.format('.1%'));

        d3.select('#chart1')
            .datum(data)
            .transition().duration(1200)
            .call(chart);
        nv.utils.windowResize(chart.update);
        chart.dispatch.on('stateChange', function(e) { nv.log('New State:', JSON.stringify(e)); });
        chart.state.dispatch.on('change', function(state){
            nv.log('state', JSON.stringify(state));
        });
        return chart;
    });


</script>