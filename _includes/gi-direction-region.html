
<!--General Issues - Direction of the Country - By Region -->
<style>

svg {
            display: block;
            float: left;
            height: 66%;
            min-width: 100%;
        } 


</style>

<div id="wrapper">
        <div id="page-wrapper">
            <div class="row">
                <div class="col-lg-12">
                    
                    <h1 class="page-header"><strong>DIRECTION OF THE COUNTRY BY REGION</strong></h1>

                </div>
            </div>
                    
                     <svg id="chart1" class="with-3d-shadow with-transitions"></svg>
   

                <div id="menu-wrapper">
                    <div id="menu-canvas">
                    <div id="site-menu"> 
                    
                        <h4>Do you think today Afghanistan is going in the right direction or in the wrong direction?</h4>
                        <p>Overall, four-in-five respondents feel the country is heading, or somewhat heading, in the right direction. This general sense of optimism cuts across regions. Positive sentiment was found to be strongest among those in the east, where two-thirds of respondents feel Afghanistan is on the right track, and nine-of-ten respondents overall expressed an optimistic view of the country's trajectory.</p>
                    </div> 
            
                    
                    <a class="toggle-nav btn btn-sm btn-primary" id="info"><i class="fa fa-info"></i></a>
                    <a class="toggle-nav"></a>    
                </div> 
               </div>     
            </div>
        </div> 


    <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>

<script>


var data = [
    {
        "key": "Wrong Direction",
        "color": "#800000", //red
        "values": [
             {
                "label": "Central",
                "value": 11.8
            },    
            {
                "label": "Central Highlands",
                "value": 5.9
            },
            {
                "label": "East",
                "value": 8.0

            },
            {
                "label": "North",
                "value": 12.0
            },
            {
                "label": "North East",
                "value": 10.8
            },
            
            {
                "label": "South",
                "value": 18.2
            }, 
            {
                "label": "South East",
                "value": 11.0
            },
            {
                "label": "West",
                "value": 16.9
            }
        ]
    },
    {
        "key": "Some Right / Some Wrong",
        "color": "#8B4789", //purple
        "values": [
            {
                "label": "Central",
                "value": 32.2
            },
            {
                "label": "Central Highlands",
                "value": 41.9
            },
            {
                "label": "East",
                "value": 22.3

            }, 
            {
                "label": "North",
                "value": 30.1
            },
            {
                "label": "North East",
                "value": 48.9
            },
            {
                "label": "South",
                "value": 25.0
            },
            
            {
                "label": "South East",
                "value": 39.2
            },
            {
                "label": "West",
                "value": 31.4
            }
        ]
    }, 
    {
        "key": "Right Direction",
        "color": "#005288", //blue
        "values": [
            {
                "label": "Central",
                "value": 50.8
            },
          
            {
                "label": "Central Highlands",
                "value": 46.0
            },
            {
                "label": "East",
                "value": 67.5

            },
            {
                "label": "North",
                "value": 39.9
            },
            {
                "label": "North East",
                "value": 31.8
            },  
            {
                "label": "South",
                "value": 55.1
            },  
            {
                "label": "South East",
                "value": 48.3
            }, 
            {
                "label": "West",
                "value": 50.2
            }
        ]
    },
    {
        "key": "Don't Know",
        "color": "gray", //gray
        "values": [
            {
                "label": "Central",
                "value": 5.1
            },
            {
                "label": "Central Highlands",
                "value": 6.2
            },
            {
                "label": "East",
                "value": 2.2

            },
            {
                "label": "North",
                "value": 17.3
            },
            {
                "label": "North East",
                "value": 8.5
            },
            {
                "label": "South",
                "value": 1.8
            },
            {
                "label": "South East",
                "value": 1.6
            },
            {
                "label": "West",
                "value": 0.7
            }
        ]
    }
]
    
nv.addGraph(function() {
  var chart = nv.models.multiBarHorizontalChart()
      .x(function(d) { return d.label })
      .y(function(d) { return d.value / 100 })
      .margin({left: 100})
      /*.tooltipContent(function(key, x, y, e, graph) {
        return '<h5 style="text-align:center; padding:0px; color:#000; font-weight: 700">' + key + " (" + x + ")</h5><h4 style='text-align: center; color: #000; font-weight: 700;'>" + y + '</h5>'
    });*/

      
        //.showValues(false)
        .tooltips(true)
        //.barColor(d3.scale.category20().range())
        //.stacked(true)
        //.showControls(false);

  chart.yAxis 
    .tickFormat(d3.format('.1%'));
  //chart.xAxis
    //.tickFormat(d3.format('d'));

  d3.select('#chart1')
      .datum(data)
      .transition().duration(1200)
      .call(chart);

  nv.utils.windowResize(chart.update);

  chart.dispatch.on('stateChange', function(e) { nv.log('New State:', JSON.stringify(e)); });

  return chart;
});

</script>